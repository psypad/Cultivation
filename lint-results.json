[{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\electron\\main.cjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\electron\\preload.cjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\App.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\api\\base44Client.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\api\\localApi.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\api\\localDatabase.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\components\\UserNotRegisteredError.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\components\\cultivation\\ProgressArc.jsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'density' is defined but never used.","line":10,"column":39,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":46}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\r\n\r\nconst PHASE_PROGRESS = {\r\n  Early: 0.125,\r\n  Mid: 0.375,\r\n  Late: 0.625,\r\n  Peak: 0.875,\r\n};\r\n\r\nexport default function ProgressArc({ density, phase }) {\r\n  const phaseProgress = PHASE_PROGRESS[phase] || 0.125;\r\n  const circumference = 2 * Math.PI * 45;\r\n  const strokeDasharray = circumference;\r\n  const strokeDashoffset = circumference * (1 - phaseProgress);\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center\">\r\n      <p className=\"text-[#8a8680] text-xs tracking-[0.2em] uppercase mb-6\">\r\n        Realm Progress\r\n      </p>\r\n      \r\n      <div className=\"relative w-32 h-32\">\r\n        <svg className=\"w-full h-full -rotate-90\" viewBox=\"0 0 100 100\">\r\n          {/* Background circle */}\r\n          <circle\r\n            cx=\"50\"\r\n            cy=\"50\"\r\n            r=\"45\"\r\n            fill=\"none\"\r\n            stroke=\"#2a2a2a\"\r\n            strokeWidth=\"2\"\r\n          />\r\n          \r\n          {/* Progress arc */}\r\n          <circle\r\n            cx=\"50\"\r\n            cy=\"50\"\r\n            r=\"45\"\r\n            fill=\"none\"\r\n            stroke=\"#7c9a82\"\r\n            strokeWidth=\"2\"\r\n            strokeLinecap=\"round\"\r\n            strokeDasharray={strokeDasharray}\r\n            strokeDashoffset={strokeDashoffset}\r\n            className=\"transition-all duration-1000\"\r\n            opacity=\"0.6\"\r\n          />\r\n        </svg>\r\n        \r\n        {/* Center text */}\r\n        <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\r\n          <span className=\"font-serif text-2xl\">{phase}</span>\r\n        </div>\r\n      </div>\r\n\r\n      <p className=\"mt-6 text-[#8a8680] text-xs\">\r\n        Progress within current realm\r\n      </p>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\components\\cultivation\\RealmIndicator.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\components\\cultivation\\SetupCultivation.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\components\\cultivation\\StateIndicator.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\components\\history\\PracticeDensityChart.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\components\\history\\TrendDescriptor.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\components\\ui\\toaster.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\layout.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\lib\\AuthContext.jsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'setAuthError' is assigned a value but never used.","line":15,"column":21,"nodeType":"Identifier","messageId":"unusedVar","endLine":15,"endColumn":33},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":53,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":53,"endColumn":24}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Authentication Context\r\n * \r\n * Simplified auth context for local development.\r\n * No actual authentication - just provides a mock user context.\r\n */\r\n\r\nimport React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\nconst AuthContext = createContext(null);\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [isLoadingAuth, setIsLoadingAuth] = useState(true);\r\n  const [isLoadingPublicSettings, setIsLoadingPublicSettings] = useState(true);\r\n  const [authError, setAuthError] = useState(null);\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Simulate loading\r\n    const timer = setTimeout(() => {\r\n      setIsLoadingAuth(false);\r\n      setIsLoadingPublicSettings(false);\r\n      // Set a mock user for local development\r\n      setUser({\r\n        id: 'local-user',\r\n        email: 'local@dev.local',\r\n        name: 'Local Developer',\r\n      });\r\n    }, 100);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  const navigateToLogin = () => {\r\n    console.log('Navigate to login called (no-op in local mode)');\r\n  };\r\n\r\n  const value = {\r\n    isLoadingAuth,\r\n    isLoadingPublicSettings,\r\n    authError,\r\n    user,\r\n    navigateToLogin,\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useAuth() {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\lib\\NavigationTracker.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\lib\\PageNotFound.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\lib\\query-client.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\main.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\pages.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\pages\\Breakthrough.jsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'AnimatePresence' is defined but never used.","line":6,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":33,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"AnimatePresence"},"fix":{"range":[265,282],"text":""},"desc":"Remove unused variable \"AnimatePresence\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'differenceInDays' is defined but never used.","line":7,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":43,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"differenceInDays"},"fix":{"range":[332,350],"text":""},"desc":"Remove unused variable \"differenceInDays\"."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from \"react\";\r\nimport { localApi } from \"@/api/localApi\";\r\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createPageUrl } from \"@/utils\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { format, subDays, differenceInDays } from \"date-fns\";\r\n\r\nconst REALM_ORDER = [\r\n  \"Mortal\",\r\n  \"Qi Condensation\",\r\n  \"Foundation Establishment\",\r\n  \"Core Formation\",\r\n  \"Nascent Soul\",\r\n  \"Spirit Severing\",\r\n  \"Dao Seeking\",\r\n  \"Immortal Ascension\",\r\n];\r\n\r\nconst PHASE_ORDER = [\"Early\", \"Mid\", \"Late\", \"Peak\"];\r\n\r\nconst REALM_REQUIREMENTS = {\r\n  \"Mortal\": { days: 30, density: 40 },\r\n  \"Qi Condensation\": { days: 60, density: 50 },\r\n  \"Foundation Establishment\": { days: 90, density: 55 },\r\n  \"Core Formation\": { days: 120, density: 60 },\r\n  \"Nascent Soul\": { days: 180, density: 65 },\r\n  \"Spirit Severing\": { days: 270, density: 70 },\r\n  \"Dao Seeking\": { days: 365, density: 75 },\r\n};\r\n\r\nexport default function Breakthrough() {\r\n  const [attemptResult, setAttemptResult] = useState(null);\r\n  const queryClient = useQueryClient();\r\n\r\n  const urlParams = new URLSearchParams(window.location.search);\r\n  const cultivationId = urlParams.get(\"id\");\r\n\r\n  const { data: cultivation, isLoading: cultivationLoading } = useQuery({\r\n    queryKey: [\"cultivation\", cultivationId],\r\n    queryFn: async () => {\r\n      if (cultivationId) {\r\n        const all = await localApi.entities.Cultivation.list();\r\n        return all.filter(c => c.id === cultivationId);\r\n      }\r\n      return localApi.entities.Cultivation.list();\r\n    },\r\n  });\r\n\r\n  const { data: practices, isLoading: practicesLoading } = useQuery({\r\n    queryKey: [\"practices-all\", cultivationId],\r\n    queryFn: () => {\r\n      if (cultivationId) {\r\n        return localApi.entities.Practice.filter({ cultivation_id: cultivationId }, \"-date\", 365);\r\n      }\r\n      return localApi.entities.Practice.list(\"-date\", 365);\r\n    },\r\n    enabled: !!cultivationId,\r\n  });\r\n\r\n  const userCultivation = cultivation?.[0];\r\n\r\n  const calculateDensity90 = () => {\r\n    if (!practices) return 0;\r\n    const cutoff = subDays(new Date(), 90);\r\n    const recentPractices = practices.filter(\r\n      (p) => new Date(p.date) >= cutoff && p.practiced\r\n    );\r\n    return Math.round((recentPractices.length / 90) * 100);\r\n  };\r\n\r\n  const density90 = calculateDensity90();\r\n\r\n  const getNextStage = () => {\r\n    if (!userCultivation) return null;\r\n\r\n    const currentPhaseIndex = PHASE_ORDER.indexOf(userCultivation.realm_phase);\r\n    const currentRealmIndex = REALM_ORDER.indexOf(userCultivation.current_realm);\r\n\r\n    if (currentPhaseIndex < PHASE_ORDER.length - 1) {\r\n      return {\r\n        realm: userCultivation.current_realm,\r\n        phase: PHASE_ORDER[currentPhaseIndex + 1],\r\n        isNewRealm: false,\r\n      };\r\n    } else if (currentRealmIndex < REALM_ORDER.length - 1) {\r\n      return {\r\n        realm: REALM_ORDER[currentRealmIndex + 1],\r\n        phase: \"Early\",\r\n        isNewRealm: true,\r\n      };\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const nextStage = getNextStage();\r\n\r\n  const requirements = userCultivation\r\n    ? REALM_REQUIREMENTS[userCultivation.current_realm] || { days: 30, density: 40 }\r\n    : { days: 30, density: 40 };\r\n\r\n  const meetsRequirements =\r\n    (userCultivation?.total_days_practiced || 0) >= requirements.days &&\r\n    density90 >= requirements.density;\r\n\r\n  const breakthroughMutation = useMutation({\r\n    mutationFn: async () => {\r\n      // Calculate success probability based on how much they exceed requirements\r\n      const daysExcess = Math.max(0, (userCultivation.total_days_practiced || 0) - requirements.days);\r\n      const densityExcess = Math.max(0, density90 - requirements.density);\r\n      \r\n      // Base 50% chance, +2% per extra day, +1% per extra density point, capped at 85%\r\n      const successChance = Math.min(85, 50 + (daysExcess * 0.5) + (densityExcess * 1));\r\n      const success = Math.random() * 100 < successChance;\r\n\r\n      if (success && nextStage) {\r\n        await localApi.entities.Cultivation.update(userCultivation.id, {\r\n          current_realm: nextStage.realm,\r\n          realm_phase: nextStage.phase,\r\n          last_breakthrough_attempt: format(new Date(), \"yyyy-MM-dd\"),\r\n        });\r\n      } else {\r\n        await localApi.entities.Cultivation.update(userCultivation.id, {\r\n          last_breakthrough_attempt: format(new Date(), \"yyyy-MM-dd\"),\r\n        });\r\n      }\r\n\r\n      return success;\r\n    },\r\n    onSuccess: (success) => {\r\n      setAttemptResult(success ? \"success\" : \"failure\");\r\n      queryClient.invalidateQueries({ queryKey: [\"cultivation\"] });\r\n    },\r\n  });\r\n\r\n  if (cultivationLoading || practicesLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-[#1a1a1a] flex items-center justify-center\">\r\n        <div className=\"text-[#8a8680] text-sm tracking-wide\">Loading...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!userCultivation) {\r\n    return (\r\n      <div className=\"min-h-screen bg-[#1a1a1a] text-[#e8e4dc] flex items-center justify-center p-6\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-[#8a8680] mb-6\">No cultivation path found.</p>\r\n          <Link to={createPageUrl(\"Dashboard\")}>\r\n            <button className=\"text-[#7c9a82]\">Begin cultivation</button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!nextStage) {\r\n    return (\r\n      <div className=\"min-h-screen bg-[#1a1a1a] text-[#e8e4dc] flex items-center justify-center p-6\">\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          transition={{ duration: 0.6 }}\r\n          className=\"text-center\"\r\n        >\r\n          <h1 className=\"font-serif text-2xl mb-6\">Immortal Ascension</h1>\r\n          <p className=\"text-[#8a8680] mb-8\">\r\n            You have reached the peak of cultivation.\r\n          </p>\r\n          <Link to={createPageUrl(\"Dashboard\")}>\r\n            <button className=\"text-[#7c9a82]\">Return</button>\r\n          </Link>\r\n        </motion.div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Result screen\r\n  if (attemptResult) {\r\n    return (\r\n      <div className=\"min-h-screen bg-[#1a1a1a] text-[#e8e4dc] flex items-center justify-center p-6\">\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          transition={{ duration: 0.6 }}\r\n          className=\"text-center max-w-md\"\r\n        >\r\n          {attemptResult === \"success\" ? (\r\n            <>\r\n              <p className=\"text-[#8a8680] text-xs tracking-[0.3em] uppercase mb-6\">\r\n                Breakthrough Successful\r\n              </p>\r\n              <h1 className=\"font-serif text-2xl mb-4\">\r\n                {nextStage.realm}\r\n              </h1>\r\n              <p className=\"text-[#7c9a82] mb-8\">{nextStage.phase} Stage</p>\r\n              <p className=\"text-[#8a8680] text-sm mb-12\">\r\n                A new realm opens before you.\r\n              </p>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <p className=\"text-[#8a8680] text-xs tracking-[0.3em] uppercase mb-6\">\r\n                Breakthrough Attempted\r\n              </p>\r\n              <h1 className=\"font-serif text-2xl mb-8\">\r\n                Foundation unstable.\r\n              </h1>\r\n              <p className=\"text-[#8a8680] text-sm mb-12\">\r\n                Continue cultivation.\r\n              </p>\r\n            </>\r\n          )}\r\n\r\n          <Link to={createPageUrl(`Dashboard?id=${cultivationId}`)}>\r\n            <button className=\"text-[#8a8680] text-sm tracking-wider hover:text-[#e8e4dc] transition-colors duration-500\">\r\n              Return to cultivation\r\n            </button>\r\n          </Link>\r\n        </motion.div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#1a1a1a] text-[#e8e4dc] p-6 md:p-12\">\r\n      <motion.div\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        transition={{ duration: 0.6 }}\r\n        className=\"max-w-lg mx-auto\"\r\n      >\r\n        <header className=\"mb-12 text-center\">\r\n          <p className=\"text-[#8a8680] text-xs tracking-[0.3em] uppercase mb-3\">\r\n            Attempt Breakthrough\r\n          </p>\r\n          <h1 className=\"font-serif text-2xl\">\r\n            {nextStage.isNewRealm ? nextStage.realm : `${userCultivation.current_realm} â€” ${nextStage.phase}`}\r\n          </h1>\r\n        </header>\r\n\r\n        {/* Current Stats */}\r\n        <section className=\"mb-12 bg-[#242424] rounded-sm p-6\">\r\n          <div className=\"grid grid-cols-2 gap-6 text-center\">\r\n            <div>\r\n              <p className=\"text-[#8a8680] text-xs tracking-wider uppercase mb-2\">\r\n                Total Practiced\r\n              </p>\r\n              <p className=\"font-serif text-2xl\">\r\n                {userCultivation.total_days_practiced || 0}\r\n                <span className=\"text-[#8a8680] text-sm ml-1\">days</span>\r\n              </p>\r\n              <p className=\"text-xs text-[#8a8680] mt-1\">\r\n                Required: {requirements.days}\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <p className=\"text-[#8a8680] text-xs tracking-wider uppercase mb-2\">\r\n                90-Day Density\r\n              </p>\r\n              <p className=\"font-serif text-2xl\">\r\n                {density90}\r\n                <span className=\"text-[#8a8680] text-sm ml-1\">%</span>\r\n              </p>\r\n              <p className=\"text-xs text-[#8a8680] mt-1\">\r\n                Required: {requirements.density}%\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Warning */}\r\n        <section className=\"mb-12 text-center\">\r\n          <p className=\"text-[#8a8680] text-sm leading-relaxed\">\r\n            Breakthrough is not guaranteed and may fail.\r\n            <br />\r\n            Stronger foundations increase the chance of success.\r\n          </p>\r\n        </section>\r\n\r\n        {/* Requirements Status */}\r\n        {!meetsRequirements && (\r\n          <section className=\"mb-12 text-center\">\r\n            <p className=\"text-[#8a8680] text-sm\">\r\n              Foundation insufficient for breakthrough attempt.\r\n            </p>\r\n          </section>\r\n        )}\r\n\r\n        {/* Action */}\r\n        <section className=\"text-center\">\r\n          <motion.button\r\n            onClick={() => breakthroughMutation.mutate()}\r\n            disabled={!meetsRequirements || breakthroughMutation.isPending}\r\n            whileHover={meetsRequirements ? { scale: 1.02 } : {}}\r\n            whileTap={meetsRequirements ? { scale: 0.98 } : {}}\r\n            transition={{ duration: 0.3 }}\r\n            className={`px-12 py-4 border tracking-wider text-sm uppercase transition-colors duration-500 ${\r\n              meetsRequirements\r\n                ? \"border-[#7c9a82]/40 text-[#7c9a82] hover:bg-[#7c9a82]/10\"\r\n                : \"border-[#3a3a3a] text-[#4a4a4a] cursor-not-allowed\"\r\n            }`}\r\n          >\r\n            {breakthroughMutation.isPending\r\n              ? \"Attempting...\"\r\n              : \"Attempt Breakthrough\"}\r\n          </motion.button>\r\n        </section>\r\n\r\n        {/* Return */}\r\n        <section className=\"mt-12 text-center\">\r\n          <Link to={createPageUrl(`Dashboard?id=${cultivationId}`)}>\r\n            <button className=\"text-[#8a8680] text-xs tracking-wider hover:text-[#e8e4dc] transition-colors duration-500\">\r\n              Return\r\n            </button>\r\n          </Link>\r\n        </section>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\pages\\CultivationSelector.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\pages\\Dashboard.jsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'useState' is defined but never used.","line":1,"column":17,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":25,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useState"},"fix":{"range":[16,25],"text":""},"desc":"Remove unused variable \"useState\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'useEffect' is defined but never used.","line":1,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":36,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useEffect"},"fix":{"range":[12,37],"text":""},"desc":"Remove unused variable \"useEffect\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'format' is defined but never used.","line":7,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":16,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"format"},"fix":{"range":[312,319],"text":""},"desc":"Remove unused variable \"format\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'SetupCultivation' is defined but never used.","line":8,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":24,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"SetupCultivation"},"fix":{"range":[366,441],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'refetch' is assigned a value but never used.","line":18,"column":61,"nodeType":"Identifier","messageId":"unusedVar","endLine":18,"endColumn":68}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from \"react\";\r\nimport { localApi } from \"@/api/localApi\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { Link, useSearchParams, useNavigate } from \"react-router-dom\";\r\nimport { createPageUrl } from \"@/utils\";\r\nimport { motion } from \"framer-motion\";\r\nimport { format, differenceInDays, subDays } from \"date-fns\";\r\nimport SetupCultivation from \"@/components/cultivation/SetupCultivation\";\r\nimport RealmIndicator from \"@/components/cultivation/RealmIndicator\";\r\nimport StateIndicator from \"@/components/cultivation/StateIndicator\";\r\nimport ProgressArc from \"@/components/cultivation/ProgressArc\";\r\n\r\nexport default function Dashboard() {\r\n  const [searchParams] = useSearchParams();\r\n  const navigate = useNavigate();\r\n  const cultivationId = searchParams.get(\"id\");\r\n\r\n  const { data: cultivation, isLoading: cultivationLoading, refetch } = useQuery({\r\n    queryKey: [\"cultivation\", cultivationId],\r\n    queryFn: async () => {\r\n      if (cultivationId) {\r\n        const all = await localApi.entities.Cultivation.list();\r\n        return all.filter(c => c.id === cultivationId);\r\n      }\r\n      return localApi.entities.Cultivation.list();\r\n    },\r\n  });\r\n\r\n  const { data: practices } = useQuery({\r\n    queryKey: [\"practices\", cultivationId],\r\n    queryFn: () => {\r\n      if (cultivationId) {\r\n        return localApi.entities.Practice.filter({ cultivation_id: cultivationId }, \"-date\", 180);\r\n      }\r\n      return localApi.entities.Practice.list(\"-date\", 180);\r\n    },\r\n    enabled: !!cultivationId,\r\n  });\r\n\r\n  const userCultivation = cultivation?.[0];\r\n\r\n  const calculateDensity = (days) => {\r\n    if (!practices || practices.length === 0) return 0;\r\n    const cutoff = subDays(new Date(), days);\r\n    const recentPractices = practices.filter(\r\n      (p) => new Date(p.date) >= cutoff && p.practiced\r\n    );\r\n    return Math.round((recentPractices.length / days) * 100);\r\n  };\r\n\r\n  const density90 = calculateDensity(90);\r\n  const density180 = calculateDensity(180);\r\n\r\n  const daysOnPath = userCultivation?.cultivation_started\r\n    ? differenceInDays(new Date(), new Date(userCultivation.cultivation_started))\r\n    : 0;\r\n\r\n  if (cultivationLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-[#1a1a1a] flex items-center justify-center\">\r\n        <div className=\"text-[#8a8680] text-sm tracking-wide\">Loading...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!cultivationId) {\r\n    navigate(createPageUrl(\"CultivationSelector\"));\r\n    return null;\r\n  }\r\n\r\n  if (!userCultivation) {\r\n    return (\r\n      <div className=\"min-h-screen bg-[#1a1a1a] flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-[#8a8680] mb-6\">Cultivation path not found.</p>\r\n          <Link to={createPageUrl(\"CultivationSelector\")}>\r\n            <button className=\"text-[#7c9a82]\">Return to paths</button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#1a1a1a] text-[#e8e4dc] p-6 md:p-12\">\r\n      <motion.div\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        transition={{ duration: 0.6 }}\r\n        className=\"max-w-2xl mx-auto\"\r\n      >\r\n        {/* Dao Name */}\r\n        <header className=\"mb-16 text-center\">\r\n          <p className=\"text-[#8a8680] text-xs tracking-[0.3em] uppercase mb-3\">\r\n            Cultivating the Dao of\r\n          </p>\r\n          <h1 className=\"font-serif text-2xl md:text-3xl tracking-wide\">\r\n            {userCultivation.dao_name}\r\n          </h1>\r\n        </header>\r\n\r\n        {/* Current Realm */}\r\n        <section className=\"mb-16\">\r\n          <RealmIndicator\r\n            realm={userCultivation.current_realm}\r\n            phase={userCultivation.realm_phase}\r\n          />\r\n        </section>\r\n\r\n        {/* Cultivation State */}\r\n        <section className=\"mb-16 text-center\">\r\n          <StateIndicator state={userCultivation.cultivation_state} />\r\n        </section>\r\n\r\n        {/* Progress Visualization */}\r\n        <section className=\"mb-16\">\r\n          <ProgressArc\r\n            density={density90}\r\n            phase={userCultivation.realm_phase}\r\n          />\r\n        </section>\r\n\r\n        {/* Time Metrics */}\r\n        <section className=\"mb-20 grid grid-cols-2 gap-8 text-center\">\r\n          <div>\r\n            <p className=\"text-[#8a8680] text-xs tracking-wider uppercase mb-2\">\r\n              Days on Path\r\n            </p>\r\n            <p className=\"font-serif text-3xl\">{daysOnPath}</p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-[#8a8680] text-xs tracking-wider uppercase mb-2\">\r\n              Total Practiced\r\n            </p>\r\n            <p className=\"font-serif text-3xl\">\r\n              {userCultivation.total_days_practiced || 0}\r\n            </p>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Practice Density */}\r\n        <section className=\"mb-20 text-center\">\r\n          <p className=\"text-[#8a8680] text-xs tracking-wider uppercase mb-4\">\r\n            Practice Density\r\n          </p>\r\n          <div className=\"flex justify-center gap-12\">\r\n            <div>\r\n              <p className=\"font-serif text-2xl mb-1\">{density90}%</p>\r\n              <p className=\"text-[#8a8680] text-xs\">90 days</p>\r\n            </div>\r\n            <div>\r\n              <p className=\"font-serif text-2xl mb-1\">{density180}%</p>\r\n              <p className=\"text-[#8a8680] text-xs\">180 days</p>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Primary Action */}\r\n        <section className=\"text-center mb-12\">\r\n          <Link to={createPageUrl(`Practice?id=${cultivationId}`)}>\r\n            <motion.button\r\n              whileHover={{ scale: 1.02 }}\r\n              whileTap={{ scale: 0.98 }}\r\n              transition={{ duration: 0.3 }}\r\n              className=\"px-12 py-4 border border-[#7c9a82]/40 text-[#7c9a82] \r\n                         tracking-wider text-sm uppercase\r\n                         hover:bg-[#7c9a82]/10 transition-colors duration-500\"\r\n            >\r\n              Log Practice\r\n            </motion.button>\r\n          </Link>\r\n        </section>\r\n\r\n        {/* Return to Selector */}\r\n        <section className=\"text-center\">\r\n          <Link to={createPageUrl(\"CultivationSelector\")}>\r\n            <button className=\"text-[#8a8680] text-xs tracking-wider hover:text-[#e8e4dc] transition-colors duration-500\">\r\n              All paths\r\n            </button>\r\n          </Link>\r\n        </section>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\pages\\History.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\pages\\Practice.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\pages\\Reflection.jsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'monthEnd' is assigned a value but never used.","line":12,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":12,"endColumn":17}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\r\nimport { localApi } from \"@/api/localApi\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { Link, useSearchParams } from \"react-router-dom\";\r\nimport { createPageUrl } from \"@/utils\";\r\nimport { motion } from \"framer-motion\";\r\nimport { format, startOfMonth, endOfMonth, eachDayOfInterval, isSameMonth } from \"date-fns\";\r\n\r\nexport default function Reflection() {\r\n  const today = new Date();\r\n  const monthStart = startOfMonth(today);\r\n  const monthEnd = endOfMonth(today);\r\n  const daysInMonth = eachDayOfInterval({ start: monthStart, end: today });\r\n\r\n  const [searchParams] = useSearchParams();\r\n  const cultivationId = searchParams.get(\"id\");\r\n\r\n  const { data: practices, isLoading } = useQuery({\r\n    queryKey: [\"practices-month\", cultivationId],\r\n    queryFn: () => {\r\n      if (cultivationId) {\r\n        return localApi.entities.Practice.filter({ cultivation_id: cultivationId }, \"-date\", 31);\r\n      }\r\n      return localApi.entities.Practice.list(\"-date\", 31);\r\n    },\r\n    enabled: !!cultivationId,\r\n  });\r\n\r\n  const { data: cultivation } = useQuery({\r\n    queryKey: [\"cultivation\", cultivationId],\r\n    queryFn: async () => {\r\n      if (cultivationId) {\r\n        const all = await localApi.entities.Cultivation.list();\r\n        return all.filter(c => c.id === cultivationId);\r\n      }\r\n      return localApi.entities.Cultivation.list();\r\n    },\r\n  });\r\n\r\n  const userCultivation = cultivation?.[0];\r\n\r\n  const monthPractices = practices?.filter((p) =>\r\n    isSameMonth(new Date(p.date), today)\r\n  ) || [];\r\n\r\n  const practicedDays = monthPractices.filter((p) => p.practiced).length;\r\n  const density = daysInMonth.length > 0\r\n    ? Math.round((practicedDays / daysInMonth.length) * 100)\r\n    : 0;\r\n\r\n  const getReassurance = () => {\r\n    if (density >= 70) {\r\n      return \"This level of consistency is excellent for long-term progress.\";\r\n    } else if (density >= 50) {\r\n      return \"This level of consistency is sufficient for long-term progress.\";\r\n    } else if (density >= 30) {\r\n      return \"Some practice is better than none. The path continues.\";\r\n    } else {\r\n      return \"Every return to the path matters. Continue when ready.\";\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-[#1a1a1a] flex items-center justify-center\">\r\n        <div className=\"text-[#8a8680] text-sm tracking-wide\">Loading...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#1a1a1a] text-[#e8e4dc] p-6 md:p-12\">\r\n      <motion.div\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        transition={{ duration: 0.6 }}\r\n        className=\"max-w-lg mx-auto\"\r\n      >\r\n        <header className=\"mb-16 text-center\">\r\n          <p className=\"text-[#8a8680] text-xs tracking-[0.3em] uppercase mb-3\">\r\n            Monthly Reflection\r\n          </p>\r\n          <h1 className=\"font-serif text-2xl\">\r\n            {format(today, \"MMMM yyyy\")}\r\n          </h1>\r\n        </header>\r\n\r\n        {/* Month Stats */}\r\n        <section className=\"mb-16 grid grid-cols-2 gap-8 text-center\">\r\n          <div>\r\n            <p className=\"text-[#8a8680] text-xs tracking-wider uppercase mb-2\">\r\n              Days Practiced\r\n            </p>\r\n            <p className=\"font-serif text-3xl\">{practicedDays}</p>\r\n            <p className=\"text-[#8a8680] text-xs mt-1\">\r\n              of {daysInMonth.length} days\r\n            </p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-[#8a8680] text-xs tracking-wider uppercase mb-2\">\r\n              Practice Density\r\n            </p>\r\n            <p className=\"font-serif text-3xl\">{density}%</p>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Cultivation State */}\r\n        {userCultivation && (\r\n          <section className=\"mb-16 text-center\">\r\n            <p className=\"text-[#8a8680] text-xs tracking-wider uppercase mb-2\">\r\n              Cultivation State\r\n            </p>\r\n            <p className=\"font-serif text-xl\">{userCultivation.cultivation_state}</p>\r\n          </section>\r\n        )}\r\n\r\n        {/* Month Calendar */}\r\n        <section className=\"mb-16\">\r\n          <div className=\"bg-[#242424] rounded-sm p-6\">\r\n            <div className=\"grid grid-cols-7 gap-2\">\r\n              {daysInMonth.map((day, index) => {\r\n                const practice = monthPractices.find(\r\n                  (p) => p.date === format(day, \"yyyy-MM-dd\")\r\n                );\r\n                return (\r\n                  <div\r\n                    key={index}\r\n                    className={`aspect-square rounded-sm flex items-center justify-center text-xs ${\r\n                      practice?.practiced\r\n                        ? \"bg-[#7c9a82] text-[#1a1a1a]\"\r\n                        : practice\r\n                        ? \"bg-[#3a3a3a] text-[#8a8680]\"\r\n                        : \"bg-[#2a2a2a] text-[#4a4a4a]\"\r\n                    }`}\r\n                  >\r\n                    {format(day, \"d\")}\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Reassurance */}\r\n        <section className=\"mb-16 text-center\">\r\n          <p className=\"text-[#8a8680] text-sm leading-relaxed max-w-xs mx-auto\">\r\n            {getReassurance()}\r\n          </p>\r\n        </section>\r\n\r\n        {/* Navigation */}\r\n        <section className=\"text-center\">\r\n          <Link to={createPageUrl(`Dashboard?id=${cultivationId}`)}>\r\n            <button className=\"text-[#8a8680] text-sm tracking-wider hover:text-[#e8e4dc] transition-colors duration-500\">\r\n              Return to cultivation\r\n            </button>\r\n          </Link>\r\n        </section>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\src\\utils\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\tailwind.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\psypa\\Documents\\DEV\\Web\\cultivation-scaffold\\vite.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]